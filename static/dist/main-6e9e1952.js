var Ge=Object.defineProperty;var Qe=(t,e,n)=>e in t?Ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var he=(t,e,n)=>(Qe(t,typeof e!="symbol"?e+"":e,n),n);function A(){}const qe=t=>t;function Ae(t){return t()}function ke(){return Object.create(null)}function C(t){t.forEach(Ae)}function Y(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let x;function ve(t,e){return x||(x=document.createElement("a")),x.href=e,t===x.href}function Ze(t){return Object.keys(t).length===0}const Ue=typeof window<"u";let xe=Ue?()=>window.performance.now():()=>Date.now(),ge=Ue?t=>requestAnimationFrame(t):A;const M=new Set;function je(t){M.forEach(e=>{e.c(t)||(M.delete(e),e.f())}),M.size!==0&&ge(je)}function et(t){let e;return M.size===0&&ge(je),{promise:new Promise(n=>{M.add(e={c:t,f:n})}),abort(){M.delete(e)}}}function E(t,e){t.appendChild(e)}function Be(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function tt(t){const e=R("style");return e.textContent="/* empty */",nt(Be(t),e),e.sheet}function nt(t,e){return E(t.head||t,e),e.sheet}function O(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function R(t){return document.createElement(t)}function N(t){return document.createTextNode(t)}function S(){return N(" ")}function lt(){return N("")}function y(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function H(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function g(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function it(t){return Array.from(t.childNodes)}function Me(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e,n){t.classList.toggle(e,!!n)}function We(t,e,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:l})}const ne=new Map;let le=0;function rt(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ot(t,e){const n={stylesheet:tt(e),rules:{}};return ne.set(t,n),n}function Ee(t,e,n,l,i,f,r,s=0){const o=16.666/l;let d=`{
`;for(let u=0;u<=1;u+=o){const b=e+(n-e)*f(u);d+=u*100+`%{${r(b,1-b)}}
`}const p=d+`100% {${r(n,1-n)}}
}`,c=`__svelte_${rt(p)}_${s}`,_=Be(t),{stylesheet:h,rules:a}=ne.get(_)||ot(_,t);a[c]||(a[c]=!0,h.insertRule(`@keyframes ${c} ${p}`,h.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${c} ${l}ms linear ${i}ms 1 both`,le+=1,c}function ft(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?f=>f.indexOf(e)<0:f=>f.indexOf("__svelte")===-1),i=n.length-l.length;i&&(t.style.animation=l.join(", "),le-=i,le||st())}function st(){ge(()=>{le||(ne.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&$(e)}),ne.clear())})}let K;function V(t){K=t}function ze(){if(!K)throw new Error("Function called outside component initialization");return K}function ut(t){ze().$$.on_destroy.push(t)}function ct(){const t=ze();return(e,n,{cancelable:l=!1}={})=>{const i=t.$$.callbacks[e];if(i){const f=We(e,n,{cancelable:l});return i.slice().forEach(r=>{r.call(t,f)}),!f.defaultPrevented}return!0}}function ee(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const B=[],ie=[];let W=[];const Re=[],at=Promise.resolve();let pe=!1;function dt(){pe||(pe=!0,at.then(Ie))}function z(t){W.push(t)}const _e=new Set;let j=0;function Ie(){if(j!==0)return;const t=K;do{try{for(;j<B.length;){const e=B[j];j++,V(e),ht(e.$$)}}catch(e){throw B.length=0,j=0,e}for(V(null),B.length=0,j=0;ie.length;)ie.pop()();for(let e=0;e<W.length;e+=1){const n=W[e];_e.has(n)||(_e.add(n),n())}W.length=0}while(B.length);for(;Re.length;)Re.pop()();pe=!1,_e.clear(),V(t)}function ht(t){if(t.fragment!==null){t.update(),C(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}function _t(t){const e=[],n=[];W.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),W=e}let X;function mt(){return X||(X=Promise.resolve(),X.then(()=>{X=null})),X}function me(t,e,n){t.dispatchEvent(We(`${e?"intro":"outro"}${n}`))}const te=new Set;let L;function P(){L={r:0,c:[],p:L}}function q(){L.r||C(L.c),L=L.p}function v(t,e){t&&t.i&&(te.delete(t),t.i(e))}function D(t,e,n,l){if(t&&t.o){if(te.has(t))return;te.add(t),L.c.push(()=>{te.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const pt={duration:0};function re(t,e,n,l){let f=e(t,n,{direction:"both"}),r=l?0:1,s=null,o=null,d=null,p;function c(){d&&ft(t,d)}function _(a,m){const u=a.b-r;return m*=Math.abs(u),{a:r,b:a.b,d:u,duration:m,start:a.start,end:a.start+m,group:a.group}}function h(a){const{delay:m=0,duration:u=300,easing:b=qe,tick:k=A,css:F}=f||pt,J={start:xe()+m,b:a};a||(J.group=L,L.r+=1),"inert"in t&&(a?p!==void 0&&(t.inert=p):(p=t.inert,t.inert=!0)),s||o?o=J:(F&&(c(),d=Ee(t,r,a,u,m,b,F)),a&&k(0,1),s=_(J,u),z(()=>me(t,a,"start")),et(U=>{if(o&&U>o.start&&(s=_(o,u),o=null,me(t,s.b,"start"),F&&(c(),d=Ee(t,r,s.b,s.duration,0,b,f.css))),s){if(U>=s.end)k(r=s.b,1-r),me(t,s.b,"end"),o||(s.b?c():--s.group.r||C(s.group.c)),s=null;else if(U>=s.start){const de=U-s.start;r=s.a+s.d*b(de/s.duration),k(r,1-r)}}return!!(s||o)}))}return{run(a){Y(f)?mt().then(()=>{f=f({direction:a?"in":"out"}),h(a)}):h(a)},end(){c(),s=o=null}}}function I(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function se(t){t&&t.c()}function G(t,e,n){const{fragment:l,after_update:i}=t.$$;l&&l.m(e,n),z(()=>{const f=t.$$.on_mount.map(Ae).filter(Y);t.$$.on_destroy?t.$$.on_destroy.push(...f):C(f),t.$$.on_mount=[]}),i.forEach(z)}function Q(t,e){const n=t.$$;n.fragment!==null&&(_t(n.after_update),C(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(t,e){t.$$.dirty[0]===-1&&(B.push(t),dt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ue(t,e,n,l,i,f,r,s=[-1]){const o=K;V(t);const d=t.$$={fragment:null,ctx:[],props:f,update:A,not_equal:i,bound:ke(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:ke(),dirty:s,skip_bound:!1,root:e.target||o.$$.root};r&&r(d.root);let p=!1;if(d.ctx=n?n(t,e.props||{},(c,_,...h)=>{const a=h.length?h[0]:_;return d.ctx&&i(d.ctx[c],d.ctx[c]=a)&&(!d.skip_bound&&d.bound[c]&&d.bound[c](a),p&&gt(t,c)),_}):[],d.update(),p=!0,C(d.before_update),d.fragment=l?l(d.ctx):!1,e.target){if(e.hydrate){const c=it(e.target);d.fragment&&d.fragment.l(c),c.forEach($)}else d.fragment&&d.fragment.c();e.intro&&v(t.$$.fragment),G(t,e.target,e.anchor),Ie()}V(o)}class ce{constructor(){he(this,"$$");he(this,"$$set")}$destroy(){Q(this,1),this.$destroy=A}$on(e,n){if(!Y(n))return A;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const i=l.indexOf(n);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Ze(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bt);const wt=t=>{var e;return((e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)"))==null?void 0:e.pop())||""},we=wt("csrftoken"),ae="http://localhost:8000/api/";function yt(t){let e=new URL("files",ae);return t?e.searchParams.set("source",t):e.searchParams.delete("source"),fetch(e)}function kt(t){let e=new URL("delete",ae);const n=new Request(e,{method:"DELETE",headers:{"X-CSRFToken":we},body:JSON.stringify({source:t})});return fetch(n)}function Je(t,e){let n=new URL("move",ae);const l=new Request(n,{method:"PUT",headers:{"X-CSRFToken":we},body:JSON.stringify({source:t,destination:e})});return fetch(l)}function vt(t,e){let n=new URL("rename",ae);const l=new Request(n,{method:"PUT",headers:{"X-CSRFToken":we},body:JSON.stringify({source:t,name:e})});return fetch(l)}function Et(t){let e,n=t[0].name+"",l,i,f;return{c(){e=R("button"),l=N(n),g(e,"class","breadcrumbs__item"),T(e,"breadcrumbs__item--hovering",t[2])},m(r,s){O(r,e,s),E(e,l),i||(f=[y(e,"click",t[7]),y(e,"drop",t[3]),y(e,"dragover",t[4]),y(e,"dragleave",t[5])],i=!0)},p(r,[s]){s&1&&n!==(n=r[0].name+"")&&Me(l,n),s&4&&T(e,"breadcrumbs__item--hovering",r[2])},i:A,o:A,d(r){r&&$(e),i=!1,C(f)}}}function Rt(t,e,n){let{breadcrumb:l,action:i,last:f}=e,r=!1;function s(c){n(2,r=!1);const _=c.dataTransfer.getData("name"),h=c.dataTransfer.getData("path");h!=l.path+_&&Je(h,l.path+_)}function o(c){f||(c.preventDefault(),n(2,r=!0))}function d(){n(2,r=!1)}const p=()=>i(l);return t.$$set=c=>{"breadcrumb"in c&&n(0,l=c.breadcrumb),"action"in c&&n(1,i=c.action),"last"in c&&n(6,f=c.last)},[l,i,r,s,o,d,f,p]}class $t extends ce{constructor(e){super(),ue(this,e,Rt,Et,fe,{breadcrumb:0,action:1,last:6})}}function oe(t,{delay:e=0,duration:n=400,easing:l=qe}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:f=>`opacity: ${f*i}`}}function Dt(t){let e,n;return{c(){e=R("div"),g(e,"class","file__thumbnail"),g(e,"style",n=t[0].thumbnail?`background-image: url(${t[0].thumbnail});`:"")},m(l,i){O(l,e,i)},p(l,i){i&1&&n!==(n=l[0].thumbnail?`background-image: url(${l[0].thumbnail});`:"")&&g(e,"style",n)},d(l){l&&$(e)}}}function $e(t){let e,n,l,i,f,r,s,o,d,p,c;function _(u,b){return u[6]?St:Ot}let a=_(t)(t),m=!t[6]&&Ct(t);return{c(){e=R("div"),n=R("button"),a.c(),l=S(),m&&m.c(),i=S(),f=R("button"),f.textContent="Rename",r=S(),s=R("button"),s.textContent="Delete",g(n,"class","file__option"),g(f,"class","file__option"),g(s,"class","file__option"),g(e,"class","file__option-list"),g(e,"tabindex","-1"),g(e,"role","button")},m(u,b){O(u,e,b),E(e,n),a.m(n,null),E(e,l),m&&m.m(e,null),E(e,i),E(e,f),E(e,r),E(e,s),t[19](e),d=!0,p||(c=[y(n,"click",t[18]),y(f,"click",t[8]),y(s,"click",t[9]),y(e,"click",H(t[17])),y(e,"keydown",t[20]),y(e,"focusin",t[10]),y(e,"focusout",t[11]),y(e,"introstart",t[21])],p=!0)},p(u,b){u[6]||m.p(u,b)},i(u){d||(u&&z(()=>{d&&(o||(o=re(e,oe,{duration:100},!0)),o.run(1))}),d=!0)},o(u){u&&(o||(o=re(e,oe,{duration:100},!1)),o.run(0)),d=!1},d(u){u&&$(e),a.d(),m&&m.d(),t[19](null),u&&o&&o.end(),p=!1,C(c)}}}function Ot(t){let e;return{c(){e=N("Preview")},m(n,l){O(n,e,l)},d(n){n&&$(e)}}}function St(t){let e;return{c(){e=N("Open")},m(n,l){O(n,e,l)},d(n){n&&$(e)}}}function Ct(t){let e,n,l;return{c(){e=R("a"),n=N("Download"),g(e,"class","file__option"),g(e,"href",l=t[0].url),g(e,"target","_blank"),g(e,"download","")},m(i,f){O(i,e,f),E(e,n)},p(i,f){f&1&&l!==(l=i[0].url)&&g(e,"href",l)},d(i){i&&$(e)}}}function Tt(t){let e,n,l,i=t[0].name+"",f,r,s,o,d,p,c=!t[6]&&Dt(t),_=t[2]&&$e(t);return{c(){e=R("div"),c&&c.c(),n=S(),l=R("div"),f=N(i),r=S(),s=R("button"),o=S(),_&&_.c(),g(l,"class","file__title"),g(s,"class","file__option-button"),g(e,"class","file"),g(e,"draggable","true"),g(e,"tabindex","-1"),g(e,"role","gridcell"),T(e,"file--selected",t[7]),T(e,"file--dragging",t[3]),T(e,"file--hovering",t[4])},m(h,a){O(h,e,a),c&&c.m(e,null),E(e,n),E(e,l),E(l,f),E(e,r),E(e,s),E(e,o),_&&_.m(e,null),d||(p=[y(s,"click",H(t[10])),y(e,"click",t[22]),y(e,"contextmenu",t[10]),y(e,"dragstart",t[12]),y(e,"dragend",t[13]),y(e,"drop",t[14]),y(e,"dragover",t[15]),y(e,"dragleave",t[16])],d=!0)},p(h,[a]){h[6]||c.p(h,a),a&1&&i!==(i=h[0].name+"")&&Me(f,i),h[2]?_?(_.p(h,a),a&4&&v(_,1)):(_=$e(h),_.c(),v(_,1),_.m(e,null)):_&&(P(),D(_,1,1,()=>{_=null}),q()),a&8&&T(e,"file--dragging",h[3]),a&16&&T(e,"file--hovering",h[4])},i(h){v(_)},o(h){D(_)},d(h){h&&$(e),c&&c.d(),_&&_.d(),d=!1,C(p)}}}function Lt(t,e,n){let{file:l,action:i}=e;const f=ct();let r=l.type=="folder",s=!1,o=!1,d=!1,p=!1,c;function _(){const w=prompt(`Rename ${r?"folder":"file"}`,l.name);w&&vt(l.path,w).then(async Z=>{Z.ok&&n(0,l=await Z.json())})}function h(){confirm(`Delete ${r?"folder":"file"}`)&&kt(l.path).then(async w=>{w.ok&&f("remove")})}async function a(){n(2,s=!0)}function m(w){(!w||!c.contains(w.relatedTarget))&&n(2,s=!1)}function u(w){n(3,d=!0),w.dataTransfer.setData("name",l.name),w.dataTransfer.setData("path",l.path)}function b(w){n(3,d=!1),w.dataTransfer.dropEffect!=="none"&&f("remove")}function k(w){n(4,p=!1);const Z=w.dataTransfer.getData("name"),ye=w.dataTransfer.getData("path");ye!=l.path&&Je(ye,l.path+Z)}function F(w){r&&!d&&(w.preventDefault(),n(4,p=!0))}function J(){r&&n(4,p=!1)}function U(w){ee.call(this,t,w)}const de=()=>i(l);function He(w){ie[w?"unshift":"push"](()=>{c=w,n(5,c)})}const Ve=w=>{w.key=="Escape"&&m()},Ye=()=>c.focus(),Ke=()=>i(l);return t.$$set=w=>{"file"in w&&n(0,l=w.file),"action"in w&&n(1,i=w.action)},[l,i,s,d,p,c,r,o,_,h,a,m,u,b,k,F,J,U,de,He,Ve,Ye,Ke]}class Xe extends ce{constructor(e){super(),ue(this,e,Lt,Tt,fe,{file:0,action:1})}}function Ft(t){let e,n,l,i,f,r,s,o,d,p,c;return{c(){e=R("div"),n=R("div"),l=R("img"),r=S(),s=R("button"),g(l,"class","preview-modal__img"),ve(l.src,i=t[0].url)||g(l,"src",i),g(l,"alt",f=t[0].name),g(s,"class","preview-modal__close"),g(n,"class","preview-modal__dialog"),g(n,"role","presentation"),T(n,"preview-modal__dialog--fly",t[2]),g(e,"class","preview-modal"),g(e,"tabindex","-1"),g(e,"role","presentation")},m(_,h){O(_,e,h),E(e,n),E(n,l),E(n,r),E(n,s),t[7](e),d=!0,p||(c=[y(s,"click",function(){Y(t[1])&&t[1].apply(this,arguments)}),y(n,"click",H(t[5])),y(n,"keypress",H(t[6])),y(e,"click",function(){Y(t[1])&&t[1].apply(this,arguments)}),y(e,"keydown",t[8]),y(e,"contextmenu",H(t[4])),y(e,"introstart",t[9]),y(e,"outrostart",t[10])],p=!0)},p(_,[h]){t=_,(!d||h&1&&!ve(l.src,i=t[0].url))&&g(l,"src",i),(!d||h&1&&f!==(f=t[0].name))&&g(l,"alt",f),(!d||h&4)&&T(n,"preview-modal__dialog--fly",t[2])},i(_){d||(_&&z(()=>{d&&(o||(o=re(e,oe,{duration:200},!0)),o.run(1))}),d=!0)},o(_){_&&(o||(o=re(e,oe,{duration:200},!1)),o.run(0)),d=!1},d(_){_&&$(e),t[7](null),_&&o&&o.end(),p=!1,C(c)}}}function Nt(t,e,n){let{file:l,close:i}=e,f=!0,r;const s=document.documentElement.clientWidth,o=Math.abs(window.innerWidth-s);o>0&&(document.body.style.marginRight=`${o}px`),document.body.style.overflowY="hidden",ut(()=>{document.body.style.marginRight=null,document.body.style.overflowY=null});function d(u){ee.call(this,t,u)}function p(u){ee.call(this,t,u)}function c(u){ee.call(this,t,u)}function _(u){ie[u?"unshift":"push"](()=>{r=u,n(3,r)})}const h=u=>{u.key=="Escape"&&i()},a=()=>{n(2,f=!1),r.focus()},m=()=>{n(2,f=!0)};return t.$$set=u=>{"file"in u&&n(0,l=u.file),"close"in u&&n(1,i=u.close)},[l,i,f,r,d,p,c,_,h,a,m]}class Pt extends ce{constructor(e){super(),ue(this,e,Nt,Ft,fe,{file:0,close:1})}}function De(t,e,n){const l=t.slice();return l[11]=e[n],l[13]=n,l}function Oe(t,e,n){const l=t.slice();return l[14]=e[n],l[13]=n,l}function Se(t,e,n){const l=t.slice();return l[16]=e[n],l[13]=n,l}function qt(t){let e;return{c(){e=N("Â»")},m(n,l){O(n,e,l)},d(n){n&&$(e)}}}function Ce(t){let e,n,l,i=t[13]>0&&qt();return n=new $t({props:{breadcrumb:t[16],action:t[5],last:t[0].length==t[13]+1}}),{c(){i&&i.c(),e=S(),se(n.$$.fragment)},m(f,r){i&&i.m(f,r),O(f,e,r),G(n,f,r),l=!0},p(f,r){const s={};r&1&&(s.breadcrumb=f[16]),r&1&&(s.last=f[0].length==f[13]+1),n.$set(s)},i(f){l||(v(n.$$.fragment,f),l=!0)},o(f){D(n.$$.fragment,f),l=!1},d(f){f&&$(e),i&&i.d(f),Q(n,f)}}}function Te(t){let e,n,l=I(t[1]),i=[];for(let r=0;r<l.length;r+=1)i[r]=Le(Oe(t,l,r));const f=r=>D(i[r],1,1,()=>{i[r]=null});return{c(){e=R("div");for(let r=0;r<i.length;r+=1)i[r].c();g(e,"class","grid"),g(e,"role","grid")},m(r,s){O(r,e,s);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);n=!0},p(r,s){if(s&162){l=I(r[1]);let o;for(o=0;o<l.length;o+=1){const d=Oe(r,l,o);i[o]?(i[o].p(d,s),v(i[o],1)):(i[o]=Le(d),i[o].c(),v(i[o],1),i[o].m(e,null))}for(P(),o=l.length;o<i.length;o+=1)f(o);q()}},i(r){if(!n){for(let s=0;s<l.length;s+=1)v(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)D(i[s]);n=!1},d(r){r&&$(e),be(i,r)}}}function Le(t){let e,n;return e=new Xe({props:{file:t[14],action:t[5]}}),e.$on("remove",t[7](t[13],!0)),{c(){se(e.$$.fragment)},m(l,i){G(e,l,i),n=!0},p(l,i){const f={};i&2&&(f.file=l[14]),e.$set(f)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function Fe(t){let e,n,l=I(t[2]),i=[];for(let r=0;r<l.length;r+=1)i[r]=Ne(De(t,l,r));const f=r=>D(i[r],1,1,()=>{i[r]=null});return{c(){e=R("div");for(let r=0;r<i.length;r+=1)i[r].c();g(e,"class","grid"),g(e,"role","grid")},m(r,s){O(r,e,s);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);n=!0},p(r,s){if(s&196){l=I(r[2]);let o;for(o=0;o<l.length;o+=1){const d=De(r,l,o);i[o]?(i[o].p(d,s),v(i[o],1)):(i[o]=Ne(d),i[o].c(),v(i[o],1),i[o].m(e,null))}for(P(),o=l.length;o<i.length;o+=1)f(o);q()}},i(r){if(!n){for(let s=0;s<l.length;s+=1)v(i[s]);n=!0}},o(r){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)D(i[s]);n=!1},d(r){r&&$(e),be(i,r)}}}function Ne(t){let e,n;return e=new Xe({props:{file:t[11],action:t[6]}}),e.$on("remove",t[7](t[13],!1)),{c(){se(e.$$.fragment)},m(l,i){G(e,l,i),n=!0},p(l,i){const f={};i&4&&(f.file=l[11]),e.$set(f)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function Pe(t){let e,n;return e=new Pt({props:{file:t[3],close:t[9]}}),{c(){se(e.$$.fragment)},m(l,i){G(e,l,i),n=!0},p(l,i){const f={};i&8&&(f.file=l[3]),i&16&&(f.close=l[9]),e.$set(f)},i(l){n||(v(e.$$.fragment,l),n=!0)},o(l){D(e.$$.fragment,l),n=!1},d(l){Q(e,l)}}}function At(t){let e,n,l,i,f,r,s,o,d,p=I(t[0]),c=[];for(let u=0;u<p.length;u+=1)c[u]=Ce(Se(t,p,u));const _=u=>D(c[u],1,1,()=>{c[u]=null});let h=t[1].length>0&&Te(t),a=t[2].length>0&&Fe(t),m=t[3]&&t[4]&&Pe(t);return{c(){e=R("header"),e.innerHTML="<h2>C-Drive</h2>",n=S(),l=R("main"),i=R("div");for(let u=0;u<c.length;u+=1)c[u].c();f=S(),h&&h.c(),r=S(),a&&a.c(),s=S(),m&&m.c(),o=lt(),g(e,"class","header"),g(i,"class","breadcrumbs")},m(u,b){O(u,e,b),O(u,n,b),O(u,l,b),E(l,i);for(let k=0;k<c.length;k+=1)c[k]&&c[k].m(i,null);E(l,f),h&&h.m(l,null),E(l,r),a&&a.m(l,null),O(u,s,b),m&&m.m(u,b),O(u,o,b),d=!0},p(u,[b]){if(b&33){p=I(u[0]);let k;for(k=0;k<p.length;k+=1){const F=Se(u,p,k);c[k]?(c[k].p(F,b),v(c[k],1)):(c[k]=Ce(F),c[k].c(),v(c[k],1),c[k].m(i,null))}for(P(),k=p.length;k<c.length;k+=1)_(k);q()}u[1].length>0?h?(h.p(u,b),b&2&&v(h,1)):(h=Te(u),h.c(),v(h,1),h.m(l,r)):h&&(P(),D(h,1,1,()=>{h=null}),q()),u[2].length>0?a?(a.p(u,b),b&4&&v(a,1)):(a=Fe(u),a.c(),v(a,1),a.m(l,null)):a&&(P(),D(a,1,1,()=>{a=null}),q()),u[3]&&u[4]?m?(m.p(u,b),b&24&&v(m,1)):(m=Pe(u),m.c(),v(m,1),m.m(o.parentNode,o)):m&&(P(),D(m,1,1,()=>{m=null}),q())},i(u){if(!d){for(let b=0;b<p.length;b+=1)v(c[b]);v(h),v(a),v(m),d=!0}},o(u){c=c.filter(Boolean);for(let b=0;b<c.length;b+=1)D(c[b]);D(h),D(a),D(m),d=!1},d(u){u&&($(e),$(n),$(l),$(s),$(o)),be(c,u),h&&h.d(),a&&a.d(),m&&m.d(u)}}}function Ut(t){window.history.state!=t&&window.history.pushState(t,"",t?`?path=${encodeURIComponent(t)}`:"/")}function jt(t,e,n){let l,i=[],f=[],r=[],s,o=!1;window.addEventListener("popstate",a=>n(8,l=a.state)),document.body.addEventListener("contextmenu",a=>a.preventDefault()),l=new URLSearchParams(window.location.search).get("path");function d(a){yt(a).then(async m=>{if(m.ok){const u=await m.json();n(0,i=u.breadcrumbs),n(1,f=u.folders),n(2,r=u.files)}else console.log(m.status)})}function p(a){n(8,l=a.path),Ut(l)}function c(a){n(3,s=a),n(4,o=!0)}function _(a,m){return()=>{m?(f.splice(a,1),n(1,f)):(r.splice(a,1),n(2,r))}}const h=()=>n(4,o=!1);return t.$$.update=()=>{t.$$.dirty&256&&d(l)},[i,f,r,s,o,p,c,_,l,h]}class Bt extends ce{constructor(e){super(),ue(this,e,jt,At,fe,{})}}new Bt({target:document.body});
